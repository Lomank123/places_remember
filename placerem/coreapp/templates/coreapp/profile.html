{% extends 'layout/basic.html' %}
{% load thumbnail %}
{% load static %}

{% block title %}Profile{% endblock title %}

{% block content %}

  <h3>Your profile</h3>
  <hr />

  <div class="profile-info-main profile-block">

    <img
      class="img-default profile-image"
      src="{{ object.photo|thumbnail_url:'default' }}"
      onerror="this.onerror=null;this.src='{% static 'placerem/empty.jpg' %}';" />


    <div class="profile-name-email">
      <span class="profile-info">Name: {{ object.username }}</span>
      <hr />
      <span class="profile-info">Email: {{ object.email }}</span>
    </div>

  </div>

  <h3>Additional info</h3>
  <hr />

  <div class="profile-info-additional profile-block">
    <span class="profile-info">Number of recollections: {{ recollections }}</span>
    <hr />
    <span class="profile-info">Account creation date: {{ object.date_joined }}</span>
  </div>

  <button class="btn btn-primary" id="edit_prof_btn" type="button">Edit profile</button>
  <button class="btn btn-primary" id="edit_pass_btn" type="button">Change password</button>
  <script>
    var prof_btn = document.getElementById("edit_prof_btn");
    var pass_btn = document.getElementById("edit_pass_btn");

    prof_btn.onclick = function() {
      window.location.href = "{% url 'profile_edit' pk=object.pk %}";
    }
    pass_btn.onclick = function() {
      window.location.href = "{% url 'change_password' %}";
    }
  </script>

{% endblock %}